<div class="container">
  <%= form_for(resource, :as => resource_name, :url => registration_path(resource_name), :html => { :method => :put, :class => "well" }) do |f| %>
  <h2>Edit Registration</h2>
  <div class="row-fluid">
    <div class="span12">
      <p class="notice"><%= flash[:notice] %></p>
      <%= flash[:alert] %>
      <%= devise_error_messages! %>
    </div>
  </div>
  <div class="row-fluid">
    <div class="span3">
    <div><%= f.label "User Name" %>
      <%= f.text_field :username %></div>

      <div><%= f.label "Email" %>
      <%= f.email_field :email %></div>

      <div><%= f.label "Password (leave blank if you don't want to change it)" %>
      <%= f.password_field :password %></div>

      <div><%= f.label "Password Confirmation*" %>
      <%= f.password_field :password_confirmation %></div>

      <div><%= f.label "Current Password (we need your current password to confirm your changes)"%>
      <%= f.password_field :current_password %></div>

      <div><%= f.label "First name" %>
      <%= f.text_field :first_name %></div>

      <div><%= f.label "Last name" %>
      <%= f.text_field :last_name %></div>

      <div><%= f.label "Initial" %>
      <%= f.text_field :initial %></div>
    </div>
    <div class="span1"></div>
    <div class="span3">
    <div><%= f.label "Phone" %>
      <%= f.telephone_field :phone %></div>  

      <div><%= f.label "Address" %>
      <%= f.text_field :address %></div>

      <div><%= f.label "City" %>
      <%= f.text_field :city %></div>

      <div><%= f.label "State" %>
      <%= f.state_select :state %></div>

      <div><%= f.label "Country" %>
      <%= f.country_select(:country, "US") %></div>

      <div><%= f.label "Zip" %>
      <%= f.text_field :zip %></div>
    </div>
    <div class="span1"></div>
    <div class="span3">
      <div><%= f.label "About Me" %>
      <%= f.text_area :aboutme, :rows => 10  %></div>

      <%= f.fields_for :roles do |rf| %>
        <% if rf.object.rolable_type == "Buyer" %>
          <%= rf.fields_for :buyer do |b|  %>
            <%= render :partial => "buyer_fields", :locals => { :f => b } %>
          <% end %>
        <% end %>
      <% end %>

      <%= f.fields_for :roles do |rf| %>
        <% if rf.object.rolable_type == "Seller" %>
          <%= rf.fields_for :seller do |s|  %>
            <%= render :partial => "seller_fields", :locals => { :f => s } %>
          <% end %>
        <% end %>
      <% end %>

      <%= f.fields_for :roles do |rf| %>
        <% if rf.object.rolable_type == "Manager" %>
          <%= rf.fields_for :manager do |m|  %>
            <%= render :partial => "manager_fields", :locals => { :f => m } %>
          <% end %>
        <% end %>
      <% end %>
    </div>
    <% # customized code end %>
  </div>
  <div class="row">
    <div class="span3" style="margin-left:19px;">
      <p style="padding-top:10px;">Unhappy? <%= link_to "Cancel my account", registration_path(resource_name), :confirm => "Are you sure?", :method => :delete %>.</p>
    </div>
    <div class="span6"></div>
    <div class="span2">
      <%= f.submit "Update", {:class => "btn btn-primary", :style => "width: 100%; height: 35px;"} %>
    </div>
  </div>
  <% end %>
  <div class="row">

  </div>
</div>

