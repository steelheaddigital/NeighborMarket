<%
#
#Copyright 2013 Neighbor Market
#
#This file is part of Neighbor Market.
#
#Neighbor Market is free software: you can redistribute it and/or modify
#it under the terms of the GNU General Public License as published by
#the Free Software Foundation, either version 3 of the License, or
#(at your option) any later version.
#
#Neighbor Market is distributed in the hope that it will be useful,
#but WITHOUT ANY WARRANTY; without even the implied warranty of
#MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
#GNU General Public License for more details.
#
#You should have received a copy of the GNU General Public License
#along with Neighbor Market.  If not, see <http://www.gnu.org/licenses/>.
#
%>

<div class="container">
	<%= form_for(resource, :as => resource_name, :url => registration_path(resource_name), :html => { :method => :put, :class => "well" }) do |f| %>
	  <h2>Become a Seller</h2>
	  <h3>Please add seller information to your profile</h3>
	  <%= devise_error_messages! %>
	  <div class="row-fluid">
		<div class="span3">
		  <div><%= f.label "First name*" %>
		  <%= f.text_field :first_name %></div>

		  <div><%= f.label "Last name*" %>
		  <%= f.text_field :last_name %></div>

		  <div><%= f.label "Initial" %>
		  <%= f.text_field :initial %></div>  

		  <div><%=f.label "Phone*"%>
		  <%= f.telephone_field :phone %></div>
		</div>
		<div class="span1"></div>
		<div class="span3">
		  <div><%=f.label "Address*"%>
		  <%= f.text_field :address %></div>

		  <div><%=f.label "City*"%>
		  <%= f.text_field :city %></div>

		  <div><%=f.label "State*"%>
		  <%= f.subregion_select :state, Carmen::Country.coded('US')   %></div>

		  <div><%=f.label "Country*"%>
		  <%= f.country_select :country, {priority: %w(US CA)} %></div>

		  <div><%=f.label "Zip*"%>
		  <%= f.text_field :zip %></div>
		</div>
		<div class="span1"></div>
		<div class="span3">
		  <%= render :partial => "seller_fields", :locals => { :f => f } %>
		</div>
	  </div>
	  <div class="row-fluid">
		<div class="span8"></div>
		<div class="span4">
			<%= f.hidden_field :become_seller, :value => true %>
			<% if @site_settings.require_terms_of_service? %>
				<div style="margin-bottom: 5px;">
					<%= f.check_box(:terms_of_service, {:style => "margin: 0;"}, true, "false")%> 
					<span>I have read and agree to the <%= link_to "terms of service",  user_registrations_terms_of_service_path, {:id => "TermsOfServiceLink"} %></span>
				</div>
			<% end %>
			<div><%= f.submit "Update", {:class => "btn btn-primary", :style => "width: 225px; height: 35px;"} %></div>
		</div>
	  </div>
	<% end %>
</div>
<div id="Modal" class="modal hide fade" tabindex="-1" data-width="760">
</div>
<script>
  $("#Modal").modal({show:false});
</script>