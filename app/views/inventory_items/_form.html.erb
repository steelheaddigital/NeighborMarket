<%
#
#Copyright 2013 Neighbor Market
#
#This file is part of Neighbor Market.
#
#Neighbor Market is free software: you can redistribute it and/or modify
#it under the terms of the GNU General Public License as published by
#the Free Software Foundation, either version 3 of the License, or
#(at your option) any later version.
#
#Neighbor Market is distributed in the hope that it will be useful,
#but WITHOUT ANY WARRANTY; without even the implied warranty of
#MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
#GNU General Public License for more details.
#
#You should have received a copy of the GNU General Public License
#along with Neighbor Market.  If not, see <http://www.gnu.org/licenses/>.
#
%>

<div>
  <%= f.label :name %>
  <%= f.text_field :name %>
</div>
<div>
  <%= f.label "Price *" %>
  <%= f.text_field :price, :class => "input-small" %>
</div>
<div>
  <%= f.label "Units *" %>
  <%= f.text_field :price_unit, :class => "input-medium", :placeholder => "choose or enter a value", :id => "PriceUnitSelect", "data-url" => units_inventory_items_path %>
</div>
<div>
  <%= f.label "Quantity Available *" %>
  <%= f.text_field :quantity_available, :class => "input-small" %>
</div>
<% if current_user.manager? %>
	<div>
	  <%= f.label "Approved" %>
	  <%= f.check_box :approved, {}, "true", "false" %>
	</div>
<% end %>
<script type="text/javascript">
	$("#PriceUnitSelect").typeahead({
		minLength:0,
		items:9999,
		showAll: true,
		source: function(query, process) {
			var url = $("#PriceUnitSelect").attr('data-url');
			return $.get(url, {query: query}, function(data) {
				return process(data);
			});
		}
	});
</script>
