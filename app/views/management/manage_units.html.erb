<%
#
#Copyright 2013 Neighbor Market
#
#This file is part of Neighbor Market.
#
#Neighbor Market is free software: you can redistribute it and/or modify
#it under the terms of the GNU General Public License as published by
#the Free Software Foundation, either version 3 of the License, or
#(at your option) any later version.
#
#Neighbor Market is distributed in the hope that it will be useful,
#but WITHOUT ANY WARRANTY; without even the implied warranty of
#MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
#GNU General Public License for more details.
#
#You should have received a copy of the GNU General Public License
#along with Neighbor Market.  If not, see <http://www.gnu.org/licenses/>.
#
%>

<div class="container-fluid">
	<div class="row">
		<h4>Add New Unit</h4>
			<%= bootstrap_form_for @new_unit, :url => create_price_unit_management_index_path, layout: :inline do |f| %>
				<%= f.error_messages %>
			   	<%= f.text_field(:name, hide_label: true) %>
				<%= f.submit("Add", :class => 'btn btn-primary') %>
			<% end %>
		</div>
	</div>
	<div class="row">
		<div class="col-md-4">
			<h3>Available Units</h3>
			<div class="table-responsive">
				<table class="table table-bordered table-condensed">
				 <thead>
				   <tr>
					<th>Unit Name</th>
					<th></th>
				   </tr>
				 </thead>
				 <tbody>
				   <%@price_units.each do |unit|%>
				     <tr>
						<td><%= unit.name%></td>
						<td><%= button_to "Delete", { :action => "destroy_price_unit", :controller => "management", :price_unit => unit}, {:data => {:confirm => "Are you sure you want to delete this unit?"}, :method => "delete", :class => "btn btn-danger", :style => "width:95%;"} %></td>
				     </tr>
				   <%end%>
				 </tbody>
				</table>
			</div>
		</div>
		<div class="col-md-4">
			<h3>User Added Units</h3>
			<table class="table table-bordered table-condensed">
			 <thead>
			   <tr>
				<th>Unit Name</th>
				<th></th>
			   </tr>
			 </thead>
			 <tbody>
			   <%@added_units.each do |unit|%>
			     <tr>
					<td><%= unit.price_unit%></td>
					<td><%= button_to "Add", { :action => "create_price_unit", :controller => "management", :price_unit => {:name => unit.price_unit} }, {:class => "btn btn-primary", :style => "width:95%;"} %></td>
			     </tr>
			   <%end%>
			 </tbody>
			</table>
		</div>
	</div>
</div>